<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Introduction to QGIS</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<link href="site_libs/highlightjs-9.12.0/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="styles.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">CRD 150: Winter 2020</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="syllabus.html">Syllabus</a>
</li>
<li>
  <a href="hw_guidelines.html">Assignment Guidelines</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Labs/Assignments
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="lab1.html">Lab 1</a>
    </li>
    <li>
      <a href="lab2.html">Lab 2</a>
    </li>
    <li>
      <a href="lab3.html">Lab 3</a>
    </li>
    <li>
      <a href="lab4.html">Lab 4</a>
    </li>
    <li>
      <a href="lab5.html">Lab 5</a>
    </li>
    <li>
      <a href="lab6.html">Lab 6</a>
    </li>
    <li>
      <a href="lab7.html">Lab 7</a>
    </li>
    <li>
      <a href="lab8.html">Lab 8</a>
    </li>
    <li>
      <a href="lab9.html">Lab 9</a>
    </li>
    <li>
      <a href="qgis.html">Extra Lab - QGIS</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Other
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="eligible.html">Eligible Communities</a>
    </li>
    <li>
      <a href="ndata.html">Neighborhood Data Sources</a>
    </li>
    <li>
      <a href="bigopendata.html">Big and Open Data Sources</a>
    </li>
    <li>
      <a href="nhgis.html">Using NHGIS</a>
    </li>
    <li>
      <a href="policymap.html">Using PolicyMap</a>
    </li>
    <li>
      <a href="missingdata.html">Missing Data</a>
    </li>
    <li>
      <a href="georeferencing.html">Mapping Coordinates</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">

<div class="btn-group pull-right">
<button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Introduction to QGIS</h1>
<h3 class="subtitle"><h4 style="font-style:normal">
CRD 150 - Quantitative Methods in Community Research
</h4></h3>
<h4 class="author"><h4 style="font-style:normal">
Professor Noli Brazil
</h4></h4>
<h4 class="date"><h4 style="font-style:normal">
March 9, 2020
</h4></h4>

</div>


<style>
p.comment {
background-color: #DBDBDB;
padding: 10px;
border: 1px solid black;
margin-left: 25px;
border-radius: 5px;
font-style: italic;
}

.figure {
   margin-top: 20px;
   margin-bottom: 20px;
}

h1.title {
  font-weight: bold;
  font-family: Arial;  
}

h2.title {
  font-family: Arial;  
}

</style>
<style type="text/css">
#TOC {
  font-size: 13px;
  font-family: Arial;
}
</style>
<p><br />
</p>
<p>In this guide you will learn how to use QGIS to make a map. The objectives of the guide are as follows</p>
<ol style="list-style-type: decimal">
<li>Gain familiarity with the QGIS interface</li>
<li>Load vector and text delimited data into QGIS</li>
<li>Joining shapefile and attribute data in QGIS</li>
<li>Creating and saving maps in QGIS</li>
</ol>
<div style="margin-bottom:25px;">

</div>
<div id="what-is-qgis" class="section level2">
<h2><strong>What is QGIS?</strong></h2>
<p><br />
QGIS (or Quantum GIS) is an open source geographic information system, meaning that it can be downloaded and installed on your desktop free of charge. It runs on Windows, Mac OS X, and Linux. If you have used ArcGIS before, which all UC Davis affiliates have <a href="https://itcatalog.ucdavis.edu/service/arcgis-geographic-software">free access to</a>, QGIS is very similar except that it has less functionality but is free for everyone and can be used on a Mac without having to rely on a virtualization software program like <a href="https://en.wikipedia.org/wiki/Parallels_(company)">Parallels</a>. QGIS is not like R in that its data processing and analysis capabilities are more limited. But, QGIS is, in my opinion, a better program for making a map. It is quicker to make a map in QGIS compared to R, allows more user efficiency and control over mapping aesthetics, and produces nice looking maps with relatively little cost in time, effort and learning curve. This is not to say that you <strong>should not</strong> use R for mapping. If you master spatial R, you can make some really <a href="https://www.r-spatial.org/r/2018/10/25/ggplot2-sf.html">cool</a> <a href="http://zevross.com/blog/2018/10/02/creating-beautiful-demographic-maps-in-r-with-the-tidycensus-and-tmap-packages/">maps</a> with R. But, if you need to <strong>quickly</strong> make a nice looking map, QGIS is a great tool to have in your back pocket.</p>
<div style="margin-bottom:25px;">

</div>
</div>
<div id="downloading-qgis" class="section level2">
<h2><strong>Downloading QGIS</strong></h2>
<p><br />
You can download QGIS from its official developer <a href="https://qgis.org/en/site/forusers/download.html">website</a>. I generally recommend using the most recent Long Term Release over the most recent version of QGIS. Long term releases might not have the newest features, but has fewer bugs and is less glitchy than the most recent release. The current long-term release is 3.10. For Windows, this will be labelled <strong>QGIS Standalone Installer Version 3.10</strong>. For Mac, this will be labelled <strong>QGIS macOS Installer Version 3.10</strong>.</p>
<p>This tutorial is based on QGIS version 3.10 for Windows. The guide’s instructions should not significantly differ across Mac and PC versions. However, installation instructions do have some key differences.</p>
<p><strong>Windows users</strong>: You will need to choose between the 32-bit or 64-bit versions based on your particular operating system. If you don’t already know which one you have, you can <a href="https://support.microsoft.com/en-us/help/15056/windows-7-32-64-bit-faq#1TC=windows-7">figure it out</a>.</p>
<p>Installation is pretty simple. Follow these steps:</p>
<ol style="list-style-type: decimal">
<li><p>From the QGIS download site, click on the appropriate 32- or 64-bit <strong>QGIS Standalone Installer Version 3.10</strong></p></li>
<li><p>Click on the downloaded .exe file.</p></li>
<li><p>The installation wizard window below should pop up. Click Next.</p></li>
</ol>
<center>
<div class="figure">
<img src="pic1.JPG" alt="Figure 1: Windows QGIS Installation Wizard" />
<p class="caption">Figure 1: Windows QGIS Installation Wizard</p>
</div>
</center>
<ol start="4" style="list-style-type: decimal">
<li><p>A License Agreement window will pop up. Click on I Agree.</p></li>
<li><p>Choose an appropriate location on your hard drive to save QGIS. The default (Program Files) should be fine.</p></li>
<li><p>Don’t alter anything on the Choose Components page. Just click on Install. Wait a bit for it to install. A final window will pop up. Click on Finish and you’re all good.</p></li>
</ol>
<p><strong>Mac users</strong>: The method for downloading QGIS on a Mac will depend on the version of the operating system (OS) that your computer is running on. To find out your current Mac OS, click on the Apple icon located at the top left of your screen and then select About This Mac. A window should pop up giving your Mac’s current OS.</p>
<p>If you are running High Sierra (10.13) or newer, follow these simple directions:</p>
<ol style="list-style-type: decimal">
<li><p>From the QGIS download site, click on <strong>QGIS macOS Installer Version 3.10</strong> and save the file in an appropriate location.</p></li>
<li><p>Click on the downloaded .dmg file</p></li>
<li><p>Next screen, click on Agree</p></li>
<li><p>The funky looking screen below should pop up. Click and drag the QGIS3.10 icon to the Applications folder. After that, you should be all good.</p></li>
</ol>
<center>
<div class="figure">
<img src="pic2.png" alt="Figure 2: Mac QGIS Installation Window" />
<p class="caption">Figure 2: Mac QGIS Installation Window</p>
</div>
</center>
<p>If you have an earlier Mac OS version, you’ll have to download an earlier version of QGIS. If possible, update to a more recent Mac OS version, as QGIS <a href="https://blog.qgis.org/2019/03/09/end-of-life-notice-qgis-2-18-ltr/">no longer fixes</a> any bugs for its older versions. However, if you’re afraid of updating your OS, click <a href="https://qgis.org/downloads/macOS/">here</a> to download an older version of QGIS. You should see all previous versions of QGIS. If your computer is super old, download QGIS 2.18.28.</p>
<p>Unfortunately, installation for older versions of QGIS is not as simple. Before you run the installer, you’ll need to make sure you can add new software to your Mac. Go to your System Preferences (under the Apple menu), and click on “Security &amp; Privacy”. Click the lock icon in the bottom left to make changes. For the section titled “Allow apps downloaded from:”, Check the “Anywhere” radio button. Now you are ready to install. When you open the disk image that you downloaded, you’ll see the following files.</p>
<center>
<div class="figure">
<img src="image1.png" alt="Figure 3: Mac QGIS Download package" />
<p class="caption">Figure 3: Mac QGIS Download package</p>
</div>
</center>
<p>First thing to do is to read the Read Me.rtf file. You must install Python, GDAL, and QGIS in that order. Installing separate components like this can seem a bit weird if you’re not used to installing open source software. For 3.4 and later versions, QGIS packaged all of these installations into one quick download.</p>
<div style="margin-bottom:25px;">

</div>
</div>
<div id="download-lab-files" class="section level2">
<h2><strong>Download Lab Files</strong></h2>
<p><br />
We’ll be working with Sacramento county tracts in this lab. Go to the Week 10 Canvas folder and download the zip file qgisdata.zip onto a convenient place on your hard drive that you can readily access. Unzip the folder. The folder will contain the following shapefiles and csv files.</p>
<ul>
<li>Sacramento_County_Tracts.shp</li>
<li>tract_demographics.csv</li>
</ul>
<div style="margin-bottom:25px;">

</div>
</div>
<div id="qgis-interface" class="section level2">
<h2><strong>QGIS Interface</strong></h2>
<p><br />
Open up QGIS. You should see an interface similar to Figure 4.</p>
<center>
<div class="figure">
<img src="Capture2.JPG" alt="Figure 4: QGIS Interface." />
<p class="caption">Figure 4: QGIS Interface.</p>
</div>
</center>
<p>The components of the interface are as follows</p>
<ol style="list-style-type: decimal">
<li><em>Main Menu</em>: Provides access and functions of the applications in a standard pull down menu format.<br />
</li>
<li><em>Toolbars</em>: Buttons that provide one click access to many of the features and functions found in the Main Menu. Toolbars are movable and can be docked or free floating. You can also customize what toolbars to show by right clicking (on a Windows machine) or Ctrl + clicking (on a Mac laptop) on one of the toolbars and selecting/deselecting from the menu.</li>
<li><em>Browser Panel</em>: Shows a listing of files on your computer. You can drag and drop GIS files into the Layers Panel (4) to view them.<br />
</li>
<li><em>Layers Panel</em>: Shows a listing of map layers and data files that are in your current project. Layers can be turned off and on, change drawing order, etc. Think of this as a Table of Contents.</li>
<li><em>Map Display Panel</em>: Shows a geographic display of GIS layers in the Layers panel.</li>
<li><em>Status Bar</em>: Shows the current scale of the map display, coordinates of the current mouse cursor position, and the coordinate reference system (CRS) of the project. In this guide, we won’t worry too much about this bar.</li>
</ol>
<div style="margin-bottom:25px;">

</div>
</div>
<div id="bringing-in-a-shapefile" class="section level2">
<h2><strong>Bringing in a shapefile</strong></h2>
<p><br />
Let’s bring in the shapefile of Sacramento county tracts. This is like <code>st_read()</code> in R. You can bring in a shapefile in one of the following ways.</p>
<ol style="list-style-type: decimal">
<li>Select Layer in the Main Menu panel and scroll over Add Layer. You’ll find the various types of files you can bring into QGIS. Clicking on Add Vector Layer… to add a shapefile.</li>
<li>Select Layer in the Main Menu panel and select Data Source Manager. This will bring up a screen (Figure 5) that will allow you to add files.</li>
<li>You can bring up the Data Source Manager by also clicking on <img src="Capture3.JPG" /> typically located in the Toolbars menu.</li>
<li>You can add a shapefile by clicking on the <img src="pic4.JPG" /> button, typically located in the Toolbars menu.</li>
</ol>
<p>Let’s use the Data Source Manager approach. When you open up the Data Source Manager, you should get the following window</p>
<center>
<div class="figure">
<img src="pic3.JPG" alt="Figure 5: Data Source Manager" />
<p class="caption">Figure 5: Data Source Manager</p>
</div>
</center>
<p>We want to bring in a shapefile showing Census tracts in Sacramento county. Tracts are polygon or areal data, also known as Vector data. From the Data Source Manager window, follow the steps outlined below.</p>
<ol style="list-style-type: decimal">
<li>Select <img src="Capture5.JPG" /> on the left panel. This should bring a screen shown in Figure 6.</li>
</ol>
<center>
<div class="figure">
<img src="pic6.JPG" alt="Figure 6: Adding Vector Data" />
<p class="caption">Figure 6: Adding Vector Data</p>
</div>
</center>
<ol start="2" style="list-style-type: decimal">
<li>Under Source and next to Vector Dataset(s), click on <img src="Capture17.JPG" /> at the far right.<br />
</li>
<li>Navigate to the folder containing the files you downloaded from Canvas. Select the file “Sacramento_County_Tracts.shp”. To be clear, you will see a bunch of files named “Sacramento_County_Tracts”. Double click on the one highlighted in red in Figure 6.<br />
<br />
</li>
</ol>
<center>
<div class="figure">
<img src="Capture18.JPG" alt="Figure 6: Click on the shapefile" />
<p class="caption">Figure 6: Click on the shapefile</p>
</div>
</center>
<ol start="4" style="list-style-type: decimal">
<li>Click on the Add button <img src="Capture7.JPG" /> and close the Data Source Manager. You should see tracts in Sacramento county pop up (Figure 7). It may have come in as a different color.</li>
</ol>
<center>
<div class="figure">
<img src="pic7.JPG" alt="Figure 7: Sacramento county tracts" />
<p class="caption">Figure 7: Sacramento county tracts</p>
</div>
</center>
<div style="margin-bottom:25px;">

</div>
</div>
<div id="bringing-in-a-csv-file" class="section level2">
<h2><strong>Bringing in a csv file</strong></h2>
<p><br />
We got a shapefile into QGIS. Hooray for us! Let’s now map a variable by bringing in some data to map. Bring up the Data Source Manager and follow the steps below to bring in a csv file into QGIS. This is like <code>read_csv()</code> in R. The file contains tract-level percent Hispanic (phisp) and percent poverty (ppov).</p>
<ol style="list-style-type: decimal">
<li>Click on <img src="Capture9.JPG" />. The window shown in Figure 8 should pop up on the right of your screen.</li>
</ol>
<center>
<div class="figure">
<img src="pic8.JPG" alt="Figure 8: Adding data window" />
<p class="caption">Figure 8: Adding data window</p>
</div>
</center>
<ol start="2" style="list-style-type: decimal">
<li>Click on <img src="Capture17.JPG" /> located at the far right next to the File Name box. We are going to bring in a csv (comma delimited) file containing tract-level percent Hispanic and percent poverty for the United States. These data are located in the file tract_demographics.csv. Navigate to the folder containing that file and double click on it.<br />
</li>
<li>Leave all the default settings alone. However, click the arrow for Geometry definition and make sure the radio button next to No geometry (attribute only table) is checked. Your final setup should look something like Figure 9.</li>
</ol>
<center>
<div class="figure">
<img src="pic9.JPG" alt="Figure 9: Bringing in a csv file" />
<p class="caption">Figure 9: Bringing in a csv file</p>
</div>
</center>
<ol start="4" style="list-style-type: decimal">
<li>Click on Add and then Close. The file tract_demographics should pop up in your Layers panel above Sacramento_County_Tracts like in Figure 10.</li>
</ol>
<center>
<div class="figure">
<img src="Capture11.JPG" alt="Figure 10: Layers panel" />
<p class="caption">Figure 10: Layers panel</p>
</div>
</center>
<div style="margin-bottom:25px;">

</div>
</div>
<div id="joining-a-csv-to-a-shapefile" class="section level2">
<h2><strong>Joining a csv to a shapefile</strong></h2>
<p><br />
We now want to join (merge) the csv data (tract_demographics) to the shapefile (Sacramento_County_Tracts). This is <code>left_join()</code> in R. To do this, follow the steps below.</p>
<ol style="list-style-type: decimal">
<li>Right click on the Sacramento_County_Tracts file in the Layers panel. You should get a menu like in Figure 11.</li>
</ol>
<center>
<div class="figure">
<img src="Capture12.JPG" alt="Figure 11: Right click on a layer" />
<p class="caption">Figure 11: Right click on a layer</p>
</div>
</center>
<ol start="2" style="list-style-type: decimal">
<li>Click on Properties.</li>
<li>Click on the Joins button <img src="Capture13.JPG" />. A window should pop up that looks like Figure 12.</li>
</ol>
<center>
<div class="figure">
<img src="pic10.JPG" alt="Figure 12: Layer properties" />
<p class="caption">Figure 12: Layer properties</p>
</div>
</center>
<ol start="4" style="list-style-type: decimal">
<li>Click on <img src="Capture14.JPG" /> located at the bottom. The Add Vector Join window below should come up.</li>
</ol>
<center>
<div class="figure">
<img src="pic11.JPG" alt="Figure 13: Add Vector Join" />
<p class="caption">Figure 13: Add Vector Join</p>
</div>
</center>
<ol start="5" style="list-style-type: decimal">
<li>From the Join layer pull down menu, select tract_demographics (if it isn’t already selected for you).<br />
</li>
<li>Under Join field, select GEOID.</li>
<li>Under Target field, select GEOID. We are joining the data from tract_demographics to Sacramento_County_Tracts using a common ID field - named GEOID in tract_demographics and GEOID in Sacramento_County_Tracts.<br />
</li>
<li><p>Check the Custom field name prefix box - a white box should pop up underneath - delete the text (tract_demographics_). If we did not do this, the variables phisp and ppov will be named tract_demographics_phisp and tract_demographics_ppov in the Sacramento_County_Tracts file, which are too long. By deleting it, we’ll keep the names to phisp and ppov.</p></li>
<li><p>The Add Vector Join window should look like Figure 14. Click OK. Click OK again in the next screen.</p></li>
</ol>
<center>
<div class="figure">
<img src="pic12.JPG" alt="Figure 14: Add Vector Join Settings" />
<p class="caption">Figure 14: Add Vector Join Settings</p>
</div>
</center>
<p>To verify that the join worked, you can open up the attribute table for the shapefile. An attribute table consists of rows representing spatial features (census tracts), and columns representing properties or characteristics of the spatial feature (e.g. percent Hispanic). It’s a nonspatial dataset attached to the spatial dataset. To bring up the attribute table, you can either</p>
<ol style="list-style-type: decimal">
<li>Right click on Sacramento_County_Tracts and select Open Attribute Table or<br />
</li>
<li>Select Sacramento_County_Tracts. From the Toolbars menu, click on the Layers panel and then select Open Attribute Table</li>
</ol>
<p>The table should pop up and contain 317 rows corresponding to the 317 tracts we have displayed on the map screen. See Figure 15. Scroll all the way right - you should see the variables we added from tract_demographics: ppov (percent poverty) and phisp (percent Hispanic).</p>
<center>
<div class="figure">
<img src="Capture16.jpg" alt="Figure 15: Attribute table" />
<p class="caption">Figure 15: Attribute table</p>
</div>
</center>
<div style="margin-bottom:25px;">

</div>
</div>
<div id="saving-a-shapefile" class="section level2">
<h2><strong>Saving a shapefile</strong></h2>
<p><br />
Joining data to the shapefile is not permanent. If you close QGIS, reopen it, and bring in Sacramento_County_Tracts, you will find that phisp and ppov are no longer in the attribute table. You will need to save a new shapefile to make this join permanent. This is like <code>st_write()</code> in R. To save a shapefile, follow the steps below.</p>
<ol style="list-style-type: decimal">
<li>Right click on Sacramento_County_Tracts</li>
<li>Select Export and then select Save Features As. A Save Vector Layer as… window should pop up.<br />
</li>
<li>For Format, select ESRI Shapefile.<br />
</li>
<li>For File name, select <img src="Capture17.JPG" /> and navigate to the folder you want to save the new shapefile. Give your new file the name “Sacramento_County_Tracts_Dems.shp”. Click Save.</li>
<li>Keep everything else the same. You should have a window that looks like Figure 16. Click OK.</li>
</ol>
<center>
<div class="figure">
<img src="pic13.JPG" alt="Figure 16: Saving your shapefile" />
<p class="caption">Figure 16: Saving your shapefile</p>
</div>
</center>
<ol start="6" style="list-style-type: decimal">
<li>The window Coordinate Reference System Selector may pop up next. It will ask you to select the appropriate Coordinate Reference System (CRS). Under Coordinate reference systems of the world, there should be a window in which you can scroll through to find an appropriate CRS. The CRS NAD_1983_2011_UTM_Zone_10N should already be selected because that is the CRS for the original shapefile Sacramento_Country_Tracts. No need to change, so just select OK.</li>
</ol>
<p>You should see Sacramento_County_Tracts_Dems pop up in your Layers panel. It should also pop up in the Map Display window in a different color. Because we only need this shapefile moving forward, remove tract_demographics and Sacramento_Country_Tracts by right clicking on each from the Layers panel and selecting Remove Layer. You can also click on the layer you want to remove and select <img src="pic32.JPG" />, which is located top right of the Layers panel.</p>
<div style="margin-bottom:25px;">

</div>
</div>
<div id="making-a-map" class="section level2">
<h2><strong>Making a map</strong></h2>
<p><br />
Let’s map percent poverty at the tract level for the county of Sacramento. This is like <code>tm_shape()</code> or <code>ggplot()</code> in R. The first thing to do is to symbolize the map based on percent poverty.</p>
<ol style="list-style-type: decimal">
<li>Right click on Sacramento_County_Tracts_Dems and select Properties.<br />
</li>
<li>Select the Symbology button <img src="Capture23.JPG" /> on the left panel.<br />
</li>
<li>From the top pull down menu, select Graduated (the default should be Single symbol). A graduated map relates values to color gradients on a map; each color gradation corresponds to a specific interval of values.<br />
</li>
<li>We want to map percent poverty. From the Value pull down menu, select ppov</li>
<li>Leave Symbol alone. In Legend Format, reduce the precision down to 2 (this will show percent poverty in two decimal points in the legend)</li>
<li>You can select whatever color scheme you would like using the pull down menu from Color ramp. I kept it at the default - a graduated color scheme of white to dark red.</li>
<li>The Mode near the bottom of the window tells QGIS how to break up the values. Remember from Lecture that you can easily distort your data by choosing different break values. Select Quantile (Equal Count) and keep Classes to 5. This will break up the values by quintile (bottom 20%, 20% to 40%, 40% to 60%, 60% to 80%, and top 20%). Click on Classify.</li>
<li>The final setup should look like Figure 17. Click OK.</li>
</ol>
<center>
<div class="figure">
<img src="pic14.JPG" alt="Figure 17: Symbology setup" />
<p class="caption">Figure 17: Symbology setup</p>
</div>
</center>
<p>You should get something that looks like Figure 18.</p>
<center>
<div class="figure">
<img src="pic15.JPG" alt="Figure 18: Map showing percent poverty in quintiles" />
<p class="caption">Figure 18: Map showing percent poverty in quintiles</p>
</div>
</center>
<div style="margin-bottom:25px;">

</div>
</div>
<div id="using-map-layout-manager" class="section level2">
<h2><strong>Using Map Layout Manager</strong></h2>
<p><br />
We’ve symbolized our map, but now we want to create and save a map for presentation purposes. QGIS has a powerful tool called Layout Manager that allows you to take your GIS layers and package them to create and save pretty maps. Why do we need this tool? A GIS map file is not an image. Rather, it saves the state of the GIS program, with references to all the layers, their labels, colors, etc. So for someone who doesn’t have the data or the same GIS program (such as QGIS), the map file will be useless.</p>
<p>To create a map, follow the steps below.</p>
<ol style="list-style-type: decimal">
<li>From the Main Menu go to Project and click on New Print Layout. A dialog box will pop up asking you for a title - type in “Percent Poverty by Census Tract in Sacramento County”. Click OK.</li>
</ol>
<center>
<div class="figure">
<img src="pic16.JPG" alt="Figure 19: Map title" />
<p class="caption">Figure 19: Map title</p>
</div>
</center>
<p>You should see a screen that looks like Figure 20 pop up. This is the Map Layout screen.</p>
<center>
<div class="figure">
<img src="pic17.JPG" alt="Figure 20: Map layout screen" />
<p class="caption">Figure 20: Map layout screen</p>
</div>
</center>
<p>Let’s go through each component of the Layout screen</p>
<ol style="list-style-type: decimal">
<li><em>Main menu</em>: Provides access and functions of the applications in a standard pull down menu format.</li>
<li><em>Toolbars</em>: There are toolbars located at the top and the left of the screen. These toolbars provide buttons to perform various functions. Right click to choose which toolbars to show</li>
<li><em>Map window</em>: This is where your map will be displayed. This includes legends, labels, titles, scale bars, north arrows, and other map accouterments.</li>
<li><em>Items and History</em>: This window provides two basic pieces of information: (1) what items are on your map (for the items you can add to your map, look at the menu Add Item from the main menu). Think of this as a table of contents. (2) all the actions you’ve done to your map. This can be simple actions like moving the legend around.<br />
</li>
<li><em>Layout and properties</em>: This window provides the properties of a selected item on your map. This is where you can change the appearance of any item on your map. For example, you can change the size of your legend font. The item whose properties you are viewing is listed at the top of this window - for example, if you are adjusting the legend, it will say Legend at the top of this panel.<br />
<br />
</li>
<li><p>To add our map, select Add Item from the Main Menu of the new screen and select Add Map.</p></li>
<li><p>Nothing should happen. However, your mouse cursor should look like a black cross. Move your cursor to the top left corner of the white canvas and drag it to the bottom right corner to create a rectangle. See Figure 21.</p></li>
</ol>
<center>
<div class="figure">
<img src="pic18.JPG" alt="Figure 21: Adding your map" />
<p class="caption">Figure 21: Adding your map</p>
</div>
</center>
<p>The map of Sacramento county maps should pop up. With the map now displayed, you can</p>
<ul>
<li>Move the map by clicking and dragging it around</li>
<li>Resize it by clicking and dragging the boxes in the corners</li>
<li>Add map details such as a legend and title.</li>
</ul>
<ol start="8" style="list-style-type: decimal">
<li><p>The scale and extent of the map shown in the Map Layout will match what is shown in the main interface. The extent controls movement West, East, North and South. Scale controls zooming in and out. Toggle back to the main QGIS interface. If you want to make the map bigger or smaller in the Map Layout window, you can change the scale from the Status bar in the main interface. For example, the current scale I have in the main interface is <img src="Capture26.JPG" />. I can zoom in a little more - I can do this by using the <img src="Capture27.JPG" /> tool or just type a scale in directly to the scale box. I do the latter by typing in, for example, 1:300000 and pressing enter.</p></li>
<li><p>Toggle to the Map Layout window. You will notice that nothing has changed. The scale in the Map Layout window will <strong>not</strong> update - you will have to do it manually. Click anywhere on your map in the Map Layout window. On the right panel of the window, click Item Properties, click on the button <img src="qgisextent.png" />. See Figure 22.</p></li>
</ol>
<center>
<div class="figure">
<img src="pic19.png" alt="Figure 22: Set to map canas extent" />
<p class="caption">Figure 22: Set to map canas extent</p>
</div>
</center>
<p>If you move the position of Sacramento West, East, North or South in the main interface, you update the Map Layout by clicking on the Set Map Extent to Match Main Canvas Extent button <img src="mapextent.png" /></p>
<ol start="10" style="list-style-type: decimal">
<li>You should see Sacramento county fills up the page a little more. See the figures below for the difference. If your map is still too small or became too large, change the scale again. Higher values mean the map zooms out.</li>
</ol>
<center>
<div class="figure">
<img src="pic20.JPG" alt="Figure 23: Scale of 1:350912" />
<p class="caption">Figure 23: Scale of 1:350912</p>
</div>
</center>
<center>
<div class="figure">
<img src="pic21.JPG" alt="Figure 24: Scale of 1:300000" />
<p class="caption">Figure 24: Scale of 1:300000</p>
</div>
</center>
<div style="margin-bottom:25px;">

</div>
<div id="add-a-legend" class="section level3">
<h3><strong>Add a legend</strong></h3>
<p><br />
A legend is an essential feature in a map. To add a legend, follow the steps below.</p>
<ol style="list-style-type: decimal">
<li>Click on Add Item from the Main Menu of the Map Layout window<br />
</li>
<li>Click on Add Legend.<br />
</li>
<li>A cross cursor will pop up, which means you’ll need to click, hold and drag to the place where you want to place the legend. See Figure 25.</li>
</ol>
<center>
<div class="figure">
<img src="pic22.JPG" alt="Figure 25: Adding a legend" />
<p class="caption">Figure 25: Adding a legend</p>
</div>
</center>
<p>If you want to customize the legend, click anywhere on the legend, and in the right panel under Item Properties a window named Legend should now be there. The panel provides different settings that you can alter to customize how the legend looks. For example, double click on Sacramento_County_Tracts_Dems under Legend items.</p>
<center>
<div class="figure">
<img src="Capture32.JPG" alt="Figure 26: Legend items in Layout screen" />
<p class="caption">Figure 26: Legend items in Layout screen</p>
</div>
</center>
<p>This should bring up a little dialog box which allows us to give the legend a more descriptive title. Delete the current title “Sacramento_County_Tracts_Dems” and type in a more descriptive title, such as “Percent Poverty”. You can change the font size and color by altering the properties under Fonts.</p>
<div style="margin-bottom:25px;">

</div>
</div>
<div id="add-a-scale-bar" class="section level3">
<h3><strong>Add a scale bar</strong></h3>
<p><br />
A scale bar is an important component of a map because it gives the viewer a visual indication of the size of features, and distance between features, on the map. To add a scale bar</p>
<ol style="list-style-type: decimal">
<li>Click on Add Item from the Main Menu of the Map Layout window<br />
</li>
<li>Select Add scale bar.<br />
</li>
<li>Click, hold and drag to place your scale bar, usually somewhere in the bottom right or left of the map.</li>
</ol>
<p>Similar to legend, the scale bar properties should pop up in the bottom right panel. You can change its properties, for example going from Kilometers to (the US centric) miles and adding more segments. Here are a few changes we can implement:</p>
<ol style="list-style-type: decimal">
<li>Change kilometers to miles by selecting Miles under the Scalebar units menu.<br />
</li>
<li>Add additional segments to lengthen the bar by increasing “right 2” to “right 4” under Segments.</li>
<li>Make sensible scale breaks by typing in 10 next to Fixed width.</li>
</ol>
<p>So far, here’s what the map looks like.</p>
<center>
<div class="figure">
<img src="pic23.JPG" alt="Figure 27: Map with legend and scale bar" />
<p class="caption">Figure 27: Map with legend and scale bar</p>
</div>
</center>
<div style="margin-bottom:25px;">

</div>
</div>
<div id="add-a-north-arrow" class="section level3">
<h3><strong>Add a North arrow</strong></h3>
<p><br />
Adding a north arrow improves many maps, especially large-scale maps that show a smaller area in great detail and maps that are not oriented with north at the top. To add a north arrow</p>
<ol style="list-style-type: decimal">
<li>Click on Add Item from the Main Menu of the Map Layout window<br />
</li>
<li>Select Add North Arrow<br />
</li>
<li>Click, hold and drag to place the arrow, usually in one of the corners.<br />
</li>
<li>Just like with the map, legend and scale, you can modify the picture’s properties from the panel on the right of the Map Layout window. From this panel. scroll down a little until you see Search directories - click on the arrow and you should see some preloaded images pop up (Figure 28)</li>
</ol>
<center>
<div class="figure">
<img src="Capture34.JPG" alt="Figure 28: Picking a north arrow" />
<p class="caption">Figure 28: Picking a north arrow</p>
</div>
</center>
<ol start="5" style="list-style-type: decimal">
<li>If you don’t like the default arrow, select your favorite image.</li>
</ol>
<p>After selecting it, you can customize as you see fit. For example, I kept the default arrow <img src="pic24.JPG" /> but altered the properties to make it look like <img src="Capture39.png" /></p>
<p>How did I make the arrow look like this?</p>
<ol style="list-style-type: decimal">
<li>Under Main properties, I selected Middle in the Placement pull down menu to center the arrow.<br />
</li>
<li>I selected black in the pull down menu next to Fill color under SVG Parameters to make the arrow black.</li>
</ol>
<div style="margin-bottom:25px;">

</div>
</div>
<div id="add-a-title" class="section level3">
<h3><strong>Add a title</strong></h3>
<p><br />
You can’t have a map without a descriptive title. Let’s add one.</p>
<ol style="list-style-type: decimal">
<li>Under Add Item from the Main Menu of the Map Layout window, select Add label.<br />
</li>
<li>Click, hold, drag a rectangle across the top of the map.<br />
</li>
<li>Very tiny text will pop up - it says “Lorem ipsum”, a common <a href="https://en.wikipedia.org/wiki/Lorem_ipsum">placeholder text</a>. In the right panel, under Item Properties, a Label panel should have popped up. Under Main properties, delete the text “Lorem Ipsum” from the white text box and add an appropriate title (I used “Tract Percent Poverty in 2016, Sacramento County”).</li>
</ol>
<p>As with all features, you can customize the title as you see fit. For example, staying in Item Properties, under Appearance, I</p>
<ol style="list-style-type: decimal">
<li>Clicked on the Center radio button under Horizontal alignment and the Middle radio button under Vertical alignment to center the title.</li>
<li>Clicked on the pull down menu directly under Appearance and increased the font size to 25. You might have to increase the title box to show the title now that you’ve increased its size.</li>
</ol>
<p>If you need room at the top to fit the title, you’ll need to adjust the scale or extent from the main interface. My map now looks like Figure 29. Looks nice, right? Of course.</p>
<center>
<div class="figure">
<img src="qgisfinalmap1.jpeg" alt="Figure 29: Map with the accoutrements" />
<p class="caption">Figure 29: Map with the accoutrements</p>
</div>
</center>
<div style="margin-bottom:25px;">

</div>
</div>
<div id="add-a-basemap" class="section level3">
<h3><strong>Add a basemap</strong></h3>
<p><br />
Right now, it looks like Sacramento county is floating in space. There’s nothing necessarily wrong with this - check this gallery of <a href="https://www.qgis.org/en/site/about/screenshots.html">QGIS maps</a> or even do a basic Google search of Sacramento poverty map and you’ll find plenty of maps without context. But, we can provide some context to the map by adding a background. We can do this by adding a base map.</p>
<p>A base map provides geographical context to a region of interest. For example, a base map might help viewers orient themselves to a specific county by displaying the surrounding counties. QGIS has a few preinstalled basemaps that you can add to your map. Let’s add an <a href="https://www.openstreetmap.org">OpenStreetMap</a> basemap. OpenStreetMap is a free editable crowdsourced map of the world.</p>
<p>In the Browser window on the main interface, click on the arrow next to XYZ Tiles. The option OpenStreetMap should show up.</p>
<center>
<div class="figure">
<img src="pic31.JPG" alt="Figure 30: Selecting OpenStreetMap basemap" />
<p class="caption">Figure 30: Selecting OpenStreetMap basemap</p>
</div>
</center>
<p>Double click on OpenStreetMap. The OSM basemap should pop up both in the Map and Layout views. You’ll see that these tracts are obscuring the Sacramento_County_Tracts_Dems layer. Change the layer order by clicking, holding and dragging the OpenStreetMap layer below Sacramento_County_Tracts_Dems in the Layers panel (or move the Sacramento_County_Tracts_Dems layer above).</p>
<center>
<div class="figure">
<img src="pic27a.png" />

</div>
</center>
<center>
<div class="figure">
<img src="pic26a.png" alt="Figure 31: Changing the ordering through the Layers panel" />
<p class="caption">Figure 31: Changing the ordering through the Layers panel</p>
</div>
</center>
<p>You should see your symbolized map of Sacramento county tract poverty pop up.</p>
<p>Go back to the Map Layout window. You will notice that the OpenStreetMap layer was added to the legend. To take it out</p>
<ol style="list-style-type: decimal">
<li>Click on the legend. This should bring up the Legend properties on the right panel.</li>
<li>Scroll down to Legend Items and unclick Auto Update <img src="autoupdate.png" />.<br />
</li>
<li>In the Legend Items window, click on the OpenStreetMap layer.</li>
<li>Below the Legend Items window, click on <img src="legenddelete.png" />. The OpenStreetMap layer should no longer be in the legend.</li>
</ol>
<p>You can further customize the map as you see fit. I ended up with the map shown in the figure below.</p>
<center>
<div class="figure">
<img src="qgisfinalmap.jpeg" alt="Figure 32: Map with OpenStreetMap basemap" />
<p class="caption">Figure 32: Map with OpenStreetMap basemap</p>
</div>
</center>
<p>You can add other freely available basemaps like Google Maps. For more details on how to do this, read this informative <a href="https://geogeek.xyz/how-to-add-google-maps-layers-in-qgis-3.html">blog post</a>.</p>
<div style="margin-bottom:25px;">

</div>
</div>
</div>
<div id="saving-your-map" class="section level2">
<h2><strong>Saving your map</strong></h2>
<p><br />
Ultimately, you’ll want to share this map with others. You usually do this by sharing it as a jpeg or pdf. If you save it as a jpeg, you can paste it into a word document or PowerPoint presentation. To export your map</p>
<ol style="list-style-type: decimal">
<li>Select Layout from the Main Menu of the Layout view.</li>
<li>Select either Export as Image or Export as PDF.</li>
<li>Save the file with an appropriate name in the appropriate folder.</li>
</ol>
<div style="margin-bottom:25px;">

</div>
</div>
<div id="saving-your-project" class="section level2">
<h2><strong>Saving your project</strong></h2>
<p><br />
When saving a project you are not saving actual data files. That is, you are not saving Sacramento_County_Tracts_Dems. Project files do not contain maps, instead they contain information on where original shapefiles are stored and what processes are needed to recreate a map. A saved project file includes information about the path to each data layer included as well as your choices about symbology, labels, and layer order. Before closing QGIS, users should save their progress in a Project file so it can be used and edited in the future. It is important to note that all shapefiles associated with the map must stay in the same location when you first created the map. If they are moved, QGIS will not be able to locate the files and rebuild the map. To save a project</p>
<ol style="list-style-type: decimal">
<li>From the Main Menu of the main interface, select Project</li>
<li>Select Save</li>
<li>Navigate to the folder that contains the data you’ve uploaded into your current project. Type in an appropriate name and select Save.</li>
</ol>
<p>The project file will be saved as a <code>.qgz</code>, which can be only opened in QGIS.</p>
<div style="margin-bottom:25px;">

</div>
</div>
<div id="more-resources" class="section level2">
<h2><strong>More Resources</strong></h2>
<p><br />
This tutorial scratches the surface of what you can do with QGIS. You can get more practice by using the official QGIS training manual <a href="https://www.qgis.org/en/docs/index.html">here</a>. They also have a more <a href="https://docs.qgis.org/testing/en/docs/gentle_gis_introduction/">Gentle Introduction to QGIS</a></p>
<p>Because QGIS is open source like R, this means users can create and add to QGIS’ basic functionality. These additions come in the form of plugins. A list of all available QGIS plugins can be found <a href="https://plugins.qgis.org/">here</a>.</p>
<p>To add a plugin</p>
<ol style="list-style-type: decimal">
<li>Select Plugins from the main menu</li>
<li>Select Manage and Install Plugins.<br />
</li>
<li>In the text box at the top of the window that pops up, type in a search keywords, plugins matching your search will pop up below.<br />
</li>
<li>Click on the plugin and hit Install.</li>
</ol>
<p>And by now, most of you are aware of StackExchange, a network of Q&amp;A communities. QGIS has its own StackExchange community, which you can find <a href="https://gis.stackexchange.com/questions/tagged/qgis">here</a></p>
<hr />
<p><a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc/4.0/88x31.png" /></a><br />This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/">Creative Commons Attribution-NonCommercial 4.0 International License</a>.</p>
<p>Website created and maintained by <a href="https://nbrazil.faculty.ucdavis.edu/">Noli Brazil</a></p>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeCodeFolding("show" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>


</body>
</html>
