---
title: "Assignment Guidelines"
subtitle: <h4 style="font-style:normal">CRD 150 - Quantitative Methods in Community Research</h4>
date: <h4 style="font-style:normal">Fall 2018</h4>
output: 
  html_document:
    toc: true
    toc_depth: 3
    toc_float: true
    theme: cosmo
---

<style>
h1.title {
  font-weight: bold;
}
</style>

\


Assignments are typically released at the beginning of each lab and are due in a week. They are located at the end of each lab's guide. Assignments have three components

1. A step-by-step guide showing how to run tasks.
2. Executing data analysis tasks - for example, create a map or run a statistical model.
3. Answering conceptual questions - for example, interpret results that were produced from a data analysis task.  

In order to get full credit for each assignment, you will need to

1. Show the appropriate statistical results for a given question (e.g. map, table, statistics).
2. Show the appropriate code producing the results. 
3. Provide correct written answers.  

The expectation for each guide is to get through as much of it as possible during lab time. If you are unable to finish the guide during the lab, please complete it on your own. If you finish before the end of lab, start on the assignment. You can ask for help from the TAs and work with other students.  However, you *must* submit your own assignment results.  It is important that you do not skip guides and assignments as class material build on one another. 

<div style="margin-bottom:25px;">
</div>
## **R Markdown**
\

You will use [R Markdown](https://rmarkdown.rstudio.com/) to write up all R related assignments.  R Markdown is a simple formatting syntax for authoring html, pdf, and Microsoft Word documents in RStudio.  For each R related assignment, you will upload onto Canvas an R Markdown document, which has an `.Rmd` extension, and its knitted `.html` file. This will allow the TAs to create an easy-to-read document to grade; more importantly, you will also get to practice (1) writing scripts, (2) keeping track of the analyses you run, and (3) organizing your output.  

To be clear, R is a *programming language*. RStudio is an *application*. R Markdown is a *markup syntax* to convert R script and text into a word, pdf or html document.


In RStudio, install the package **rmarkdown** using the `install.packages()` command.  Type the following code in your RStudio Console.

```{r eval=FALSE}
install.packages("rmarkdown")
```

Next, choose an appropriate working directory. The working directory directs R to the specific folder where you want to upload and save files.  This is the folder where your saved R Markdown `.Rmd` and its associated `.html` files reside. In the console, execute the command

```{r eval=FALSE}
setwd("path_to_directory")
# path_to_directory is the directory path of the directory you want to set as working directory
```

An assignmnent `.Rmd` template will be provided for each assignment.  A generic template can be found [here](https://raw.githubusercontent.com/crd150/data/master/assignment_template.Rmd).  To open an `.Rmd` file, select File -> Open File and navigate to the folder you saved the assignment template in and select the file. You should see the R Markdown file pop up on the top left portion of your RStudio interface.

<div style="margin-bottom:25px;">
</div>
### **Opening a new R Markdown file**
\

If you want to create your own R Markdown file, select File -> New File -> R Markdown from the menu up top.  You should see a window pop up that looks like the following figure.  

<center>
![Figure 1: R Markdown window.](/Users/noli/Documents/UCD/teaching/CRD150/Lab/crd150.github.io/hwguide1.png)

</center>
\

For each assignment, enter "Assignment #" in *Title*, replacing # with the Assignment number.  For *Author*, enter your name.  Keep *Document* in the left panel and the radio button next to *HTML* in the bottom panel selected.  You should see an R Markdown file pop up on the top left portion of your RStudio interface.

<center>

![Figure 2: R Markdown document](/Users/noli/Documents/UCD/teaching/CRD150/Lab/crd150.github.io/hwguide2.png)

</center>
\


You won't need anything including and below "### RMarkdown" - just delete that text.  Instead, you will fill it in with your assignment answers.  

<div style="margin-bottom:25px;">
</div>
###**Authoring an R Markdown document**
\

R Markdown documents contain 3 major components:

1. A YAML header surrounded by ---
2. Chunks of R code surounded by ```
3. Text mixed with simple text formatting using the [Markdown syntax](https://www.markdownguide.org/cheat-sheet/)

The YAML header controls how R Markdown renders your `.Rmd` file. A YAML header is a section of key: value pairs surrounded by --- marks.  **Use the following YAML format for each assignment**

````
`r ''`---
title: "Assignment [insert number here]"
subtitle: CRD 150, Lab #
author: Your full name here
date: `r format(Sys.time(), '%d %B %Y')`
output: 
  html_document:
    code_folding: show
---
````

Your R Markdown assignment file will contain R code and text.  R code chunks are where you store R code that will be executed. They are inserted in between `` ```{r} `` and `` ``` ``.  For example, to designate `1+1` as R code, it will look like the following in your R Markdown document

````
```{r}`r ''`
1+1
```
````

Your R code must reside inside an R code chunk (see the Insert button in the editor pane, top left by default) in order for it to be processed as R code (otherwise R Markdown will think it is text).  R will often spit out messages that are not necessary for answering the assignment question.  You can add options to the R code chunk to hide these unnecessary messages by adding `warning=FALSE` and `message=FALSE` as follows.

````
```{r, warning=FALSE, message = FALSE}}`r ''`

```
````

Always show the R code that produces your results. You then explain results and answer questions by inserting text into your document.  For example, let's say you see this in one of your assignments

````
`r ''`
1+1

1. What does the above code do?
2. What is the result of 2+2?
````
\

To get full credit, you would type in your R Markdown document the following

````
`r ''`

1. What does the above code do?

The code adds 1 + 1

2. What is the result of 2+2?

```{r, warning=FALSE, message = FALSE}`r ''`
2+2
```

The result of 2+2 is 4.
````

Of course, you'll need to test code to make sure it is running properly.  Rather than writing and running  all the code at the end, run them in chunks.  To run code in just one chunk, click on the R code chunk you want to run and either click on ![](/Users/noli/Documents/UCD/teaching/CRD150/Lab/crd150.github.io/hwguide3.png) and select *Run Current Chunk* or click on ![](/Users/noli/Documents/UCD/teaching/CRD150/Lab/crd150.github.io/hwguide4.png) located on the right corner of the chunk.

<div style="margin-bottom:25px;">
</div>
## **Knitting**
\

Once you're done writing up your assignment, you'll need to submit your `.Rmd` document and the knitted `.html` document through [Canvas](https://login.canvas.ucdavis.edu/).  RStudio’s "Knit HTML" button will compile the open document to actual HTML and open a preview.  To Knit your document click ![](/Users/noli/Documents/UCD/teaching/CRD150/Lab/crd150.github.io/hwguide6.png).  A preview will pop up and the `.html` file will be saved in your working directory. 

If you have a Mac and you are getting an error when knitting, you may need to download the most recent version of XQuartz, which can be downloaded [here](http://xquartz.macosforge.org)

<div style="margin-bottom:25px;">
</div>
## **Summary**
\

The proper workflow for each assignment will be

1. Go through the step-by-step lab guide.  
2. Save and open the R Markdown assignment template linked to each assignment.
2. In this document, answer all the assignment questions located at the end of the guide.
* Most of the questions will ask you to run code.  Show that code in an R Markdown chunk. Bottom line: Any code you used to get a result should be in your assignment.  
  + Make sure your code works.  If it doesnt, then partial to no credit. Run that code one chunk at a time to make sure it is working.
* Most of the questions will ask you to explain your code/results.
3. Once you feel good about your answers, knit it.
4. Submit the `.Rmd` and `.html` files **before** the designated time on Canvas.
5. Smile, pat yourself on the back, and have some ice cream.

<div style="margin-bottom:25px;">
</div>
##**Others things to know**
<div style="margin-bottom:20px;">
</div>

* You can spell-check your assignment before handing it in by navigating the menu Edit -> Check Spelling
* If you have Microsoft Word installed on your system you can pull down the menu associated with the Knit button and select the Knit to Word option and, if all goes well, you will be presented with a Word document.
* You can also create a pdf document, but you'll need to download. [Tex](http://www.ams.org/publications/what-is-tex) on your system.
* Your R Markdown file needs to have the extension `.Rmd` (don’t create arbitrarily named files).
* The default editor settings are to insert matching parentheses and quotes; if you find that this intrudes on your workflow, you can disable it via Tools -> Global Options -> Code then uncheck Insert matching parens/quotes.

<div style="margin-bottom:25px;">
</div>
##**Getting R Markdown Help**
\

Whenever you are editing R Markdown documents in RStudio, you can display an R Markdown cheatsheet by going to Help > Cheatsheets > R Markdown Cheat Sheet. A basic introduction to R Markdown can also be found in chapter 21 in [R for Data Science](http://r4ds.had.co.nz/index.html). 


***


Website created and maintained by [Noli Brazil](https://nbrazil.faculty.ucdavis.edu/)
